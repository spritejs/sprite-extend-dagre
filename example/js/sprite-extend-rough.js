!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.spriteRough=e():t.spriteRough=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/js/",n(n.s=75)}([function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(5),r=n(0),s=n(21),o=n(11),a=n(15),u=function(t,e,n){var l,h,c,f=t&u.F,p=t&u.G,d=t&u.S,y=t&u.P,g=t&u.B,v=t&u.W,_=p?r:r[e]||(r[e]={}),b=_.prototype,x=p?i:d?i[e]:(i[e]||{}).prototype;for(l in p&&(n=e),n)(h=!f&&x&&void 0!==x[l])&&a(_,l)||(c=h?x[l]:n[l],_[l]=p&&"function"!=typeof x[l]?n[l]:g&&h?s(c,i):v&&x[l]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):y&&"function"==typeof c?s(Function.call,c):c,y&&((_.virtual||(_.virtual={}))[l]=c,t&u.R&&b&&!b[l]&&o(b,l,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(41)("wks"),r=n(29),s=n(5).Symbol,o="function"==typeof s;(t.exports=function(t){return i[t]||(i[t]=o&&s[t]||(o?s:r)("Symbol."+t))}).store=i},function(t,e,n){t.exports={default:n(97),__esModule:!0}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(2);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports={default:n(99),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(64),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,s.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var i=o(n(111)),r=o(n(115)),s=o(n(64));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e,n){var i=n(12),r=n(27);t.exports=n(13)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(6),r=n(55),s=n(34),o=Object.defineProperty;e.f=n(13)?Object.defineProperty:function(t,e,n){if(i(t),e=s(e,!0),i(n),r)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(35),r=n(37);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(101),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,s.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e){t.exports=function(t,e,n,i,r){var s={};return Object.keys(i).forEach(function(t){s[t]=i[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}},function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(80)),r=s(n(90));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return function(t,e){var n=[],i=!0,s=!1,o=void 0;try{for(var a,u=(0,r.default)(t);!(i=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(s)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports={}},function(t,e,n){var i=n(54);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(58),r=n(42);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=y(n(53)),r=y(n(19)),s=y(n(93)),o=y(n(25)),a=y(n(7)),u=y(n(4)),l=y(n(8)),h=y(n(17)),c=y(n(9)),f=y(n(10)),p=y(n(118));e.default=function(t){var e,n,p,y,_,b,x,w,m,M,O,P,k,S,A,E,T,j,C,z=t.BaseSprite,R=t.Path,L=t.utils,W=L.parseValue,N=L.attr,D=L.inherit,F=L.parseFont,I=L.parseColorString,V=(e=W(I),n=D("rgba(0,0,0,1)"),p=D('normal normal normal 32px "Hannotate SC"'),y=W(parseFloat),_=D(1),b=W(parseFloat),x=D(1),w=W(parseFloat),m=D(1),M=D("hachure"),O=W(parseFloat),P=D(""),k=W(parseFloat),S=D(-41),A=W(parseFloat),E=D(""),T=function(t){function e(t){(0,l.default)(this,e);var n=(0,c.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.setDefault({roughness:"inherit",bowing:"inherit",lineWidth:"inherit",fillStyle:"inherit",fillWeight:"inherit",hachureAngle:"inherit",hachureGap:"inherit",label:"",font:"inherit",color:"inherit"}),n}return(0,f.default)(e,t),(0,h.default)(e,[{key:"enableCache",get:function(){return!1}},{key:"color",set:function(t){this.set("color",t)}},{key:"font",set:function(t){this.set("font",t)}},{key:"fontSize",set:function(t){null==t&&(t="16px");var e="px";if("string"==typeof t){var n=t.match(/^([\d.]+)(\w+)/);if(!n)return null;t=parseFloat(n[1]),e=n[2]}var i=this.font,r=F(i),s=r.style,o=r.variant,a=r.weight,u=r.family,l=s+" "+o+" "+a+" "+t+e+" "+u;this.font=l},get:function(){var t=this.font,e=F(t),n=e.size0,i=e.unit;return""+n+i}},{key:"fontFamily",set:function(t){null==t&&(t="Arial");var e=this.font,n=F(e),i=n.style,r=n.variant,s=n.weight,o=n.size0,a=n.unit,u=i+" "+r+" "+s+" "+o+a+" "+t;this.font=u},get:function(){return F(this.font).family}},{key:"fontStyle",set:function(t){null==t&&(t="normal");var e=this.font,n=F(e),i=n.variant,r=n.weight,s=n.size0,o=n.unit,a=n.family,u=t+" "+i+" "+r+" "+s+o+" "+a;this.font=u},get:function(){return F(this.font).style}},{key:"fontVariant",set:function(t){null==t&&(t="normal");var e=this.font,n=F(e),i=n.style,r=n.weight,s=n.size0,o=n.unit,a=n.family,u=i+" "+t+" "+r+" "+s+o+" "+a;this.font=u},get:function(){return F(this.font).variant}},{key:"fontWeight",set:function(t){null==t&&(t="normal");var e=this.font,n=F(e),i=n.style,r=n.variant,s=n.size0,o=n.unit,a=n.family,u=i+" "+r+" "+t+" "+s+o+" "+a;this.font=u},get:function(){return F(this.font).weight}},{key:"roughness",set:function(t){this.set("roughness",t)}},{key:"bowing",set:function(t){this.set("bowing",t)}},{key:"lineWidth",set:function(t){this.clearFlow(),this.set("lineWidth",t)}},{key:"fillStyle",set:function(t){this.set("fillStyle",t)}},{key:"fillWeight",set:function(t){this.set("fillWeight",t)}},{key:"hachureAngle",set:function(t){this.set("hachureAngle",t)}},{key:"hachureGap",set:function(t){this.set("hachureGap",t)}},{key:"label",set:function(t){this.set("label",t)}}]),e}(R.Attr),g(T.prototype,"color",[e,N,n],(0,a.default)(T.prototype,"color"),T.prototype),g(T.prototype,"font",[N,p],(0,a.default)(T.prototype,"font"),T.prototype),g(T.prototype,"fontSize",[N],(0,a.default)(T.prototype,"fontSize"),T.prototype),g(T.prototype,"fontFamily",[N],(0,a.default)(T.prototype,"fontFamily"),T.prototype),g(T.prototype,"fontStyle",[N],(0,a.default)(T.prototype,"fontStyle"),T.prototype),g(T.prototype,"fontVariant",[N],(0,a.default)(T.prototype,"fontVariant"),T.prototype),g(T.prototype,"fontWeight",[N],(0,a.default)(T.prototype,"fontWeight"),T.prototype),g(T.prototype,"roughness",[y,N,_],(0,a.default)(T.prototype,"roughness"),T.prototype),g(T.prototype,"bowing",[b,N,x],(0,a.default)(T.prototype,"bowing"),T.prototype),g(T.prototype,"lineWidth",[w,N,m],(0,a.default)(T.prototype,"lineWidth"),T.prototype),g(T.prototype,"fillStyle",[N,M],(0,a.default)(T.prototype,"fillStyle"),T.prototype),g(T.prototype,"fillWeight",[O,N,P],(0,a.default)(T.prototype,"fillWeight"),T.prototype),g(T.prototype,"hachureAngle",[k,N,S],(0,a.default)(T.prototype,"hachureAngle"),T.prototype),g(T.prototype,"hachureGap",[A,N,E],(0,a.default)(T.prototype,"hachureGap"),T.prototype),g(T.prototype,"label",[N],(0,a.default)(T.prototype,"label"),T.prototype),T);return{Rough:(C=j=function(t){function e(){var t;(0,l.default)(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=(0,c.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(i)));return s.generators={},s}return(0,f.default)(e,t),(0,h.default)(e,[{key:"forceUpdate",value:function(t){(0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"forceUpdate",this).call(this,t),this.generators={}}},{key:"render",value:function(t,n){var a=this;(0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"render",this).call(this,t,n);var l=this.attr("lineCap"),h=this.attr("lineJoin");n.lineCap=l,n.lineJoin=h;var c=v.get(n);c||(c=d.default.canvas(n.canvas),v.set(n,c));var f={},p=this.attributes,y=p.fillWeight,g=p.hachureGap,_=p.strokeColor,b=p.fillColor;(0,s.default)({fillWeight:y,hachureGap:g,stroke:_,fill:b}).forEach(function(t){var e=(0,r.default)(t,2),n=e[0],i=e[1];""!==i&&(f[n]=i)});var x=this.attributes,w=x.roughness,m=x.bowing,M=x.lineWidth,O=x.fillStyle,P=x.hachureAngle;(0,i.default)(f,{roughness:w,bowing:m,strokeWidth:M,fillStyle:O,hachureAngle:P});var k=this.attr("label");return k&&this.once("afterdraw",function(t){var e=t.target,n=t.context,i=e.originalRect,r=i[2]/2,s=i[3]/2;n.font=a.attr("font");var o=n.measureText(k),u=o.width;n.fillStyle=a.attr("color"),n.fillText(k,r-u/2,s)}),{context:c,options:f}}}]),e}(z),j.Attr=V,C)}};var d=y(n(138));function y(t){return t&&t.__esModule?t:{default:t}}var g=n(18),v=new p.default},function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(4)),r=s(n(7));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,s){null===e&&(e=Function.prototype);var o=(0,r.default)(e,n);if(void 0===o){var a=(0,i.default)(e);return null===a?void 0:t(a,n,s)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(s):void 0}},function(t,e,n){t.exports={default:n(106),__esModule:!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(37);t.exports=function(t){return Object(i(t))}},function(t,e,n){n(82);for(var i=n(5),r=n(11),s=n(20),o=n(3)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],h=i[l],c=h&&h.prototype;c&&!c[o]&&r(c,o,l),s[l]=s.Array}},function(t,e,n){var i=n(12).f,r=n(15),s=n(3)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},function(t,e,n){var i=n(29)("meta"),r=n(2),s=n(15),o=n(12).f,a=0,u=Object.isExtensible||function(){return!0},l=!n(14)(function(){return u(Object.preventExtensions({}))}),h=function(t){o(t,i,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[i].w},onFreeze:function(t){return l&&c.NEED&&u(t)&&!s(t,i)&&h(t),t}}},function(t,e,n){var i=n(2);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(39),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(41)("keys"),r=n(29);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(0),r=n(5),s=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(28)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(11)},function(t,e,n){var i=n(6),r=n(86),s=n(42),o=n(40)("IE_PROTO"),a=function(){},u=function(){var t,e=n(56)("iframe"),i=s.length;for(e.style.display="none",n(87).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[s[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[o]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e,n){"use strict";var i=n(88)(!0);n(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(23),r=n(27),s=n(16),o=n(34),a=n(15),u=n(55),l=Object.getOwnPropertyDescriptor;e.f=n(13)?l:function(t,e){if(t=s(t),e=o(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){e.f=n(3)},function(t,e,n){var i=n(5),r=n(0),s=n(28),o=n(48),a=n(12).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,n){var i=n(21),r=n(35),s=n(30),o=n(38),a=n(121);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,h=4==t,c=6==t,f=5==t||c,p=e||a;return function(e,a,d){for(var y,g,v=s(e),_=r(v),b=i(a,d,3),x=o(_.length),w=0,m=n?p(e,x):u?p(e,0):void 0;x>w;w++)if((f||w in _)&&(g=b(y=_[w],w,v),t))if(n)m[w]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:m.push(y)}else if(h)return!1;return c?-1:l||h?h:m}}},function(t,e,n){var i=n(21),r=n(124),s=n(125),o=n(6),a=n(38),u=n(62),l={},h={};(e=t.exports=function(t,e,n,c,f){var p,d,y,g,v=f?function(){return t}:u(t),_=i(n,c,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(s(v)){for(p=a(t.length);p>b;b++)if((g=e?_(o(d=t[b])[0],d[1]):_(t[b]))===l||g===h)return g}else for(y=v.call(t);!(d=y.next()).done;)if((g=r(y,_,d.value,e))===l||g===h)return g}).BREAK=l,e.RETURN=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(134)),r=d(n(19)),s=d(n(25)),o=d(n(7)),a=d(n(4)),u=d(n(8)),l=d(n(17)),h=d(n(9)),c=d(n(10)),f=d(n(26));e.default=function(t){var e,n,f,d,v,_,b=t.use,x=t.utils,w=t.registerNodeType,m=t.Path,M=b(p.default).Rough,O=x.parseValue,P=x.attr,k=x.flow,S=(e=O(parseFloat),n=O(parseFloat),f=function(t){function e(t){(0,u.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.setDefault({simplification:0,tolerance:6,bounding:"path"}),n}return(0,c.default)(e,t),(0,l.default)(e,[{key:"tolerance",set:function(t){this.set("tolerance",t)}},{key:"simplification",set:function(t){this.set("simplification",t)}}]),e}(M.Attr),y(f.prototype,"tolerance",[e,P],(0,o.default)(f.prototype,"tolerance"),f.prototype),y(f.prototype,"simplification",[n,P],(0,o.default)(f.prototype,"simplification"),f.prototype),f),A=(_=v=function(t){function e(t){return(0,u.default)(this,e),"string"==typeof t&&(t={d:t}),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"getPointAtLength",value:function(t){return this.svg?this.svg.getPointAtLength(t):[0,0]}},{key:"getPathLength",value:function(){return this.svg?this.svg.getTotalLength():0}},{key:"findPath",value:function(t,e){var n,i=this.originalRect,r=this.pathOffset,s=[t-i[0]-r[0],e-i[1]-r[1]];if(this.svg&&(n=this.svg).isPointInPath.apply(n,s))return[this.svg];if(this.path2D_){var o;if(this.context.save(),this.context.lineWidth=this.attr("lineWidth")+this.attr("tolerance"),this.context.lineCap=this.attr("lineCap"),this.context.lineJoin=this.attr("lineJoin"),(o=this.context).isPointInStroke.apply(o,[this.path2D_].concat(s)))return[this.svg];this.context.restore()}return[]}},{key:"pointCollision",value:function(t){if((0,s.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"pointCollision",this).call(this,t)){var n=t.offsetX,i=t.offsetY;if(null==n&&null==i)return!0;var r=this.svg;if(r){var o=r.bounds;n+=Math.min(0,o[0]),i+=Math.min(0,o[1])}return t.targetPaths=this.findPath(n,i),"path"!==this.attr("bounding")||t.targetPaths.length>0}return!1}},{key:"render",value:function(t,n){var i=(0,s.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"render",this).call(this,t,n),o=i.context,u=i.options,l=this.attr("d");if(l){u.simplification=this.attr("simplification");var h=this.svg,c=(0,r.default)(h.bounds,4),f=c[0],p=c[1],d=c[2],y=c[3],v=(0,r.default)(this.pathOffset,2),_=v[0],b=v[1],x=(0,r.default)(this.contentSize,2),w=x[0],m=x[1];(w<d||m<y)&&(n.beginPath(),n.rect(0,0,w,m),n.clip()),(f<0||p<0)&&n.translate(-Math.min(0,f),-Math.min(0,p)),n.translate(_,b),"undefined"!=typeof Path2D&&(this.path2D_=new Path2D(l)),this.generators[g]||(this.generators[g]=o.generator.path(h.d,u)),o.draw(this.generators[g])}return{context:o,options:u}}},{key:"path",set:function(t){this.attr("path",t)},get:function(){return this.attr("path")}},{key:"pathOffset",get:function(){var t=Math.round(this.attr("lineWidth"));return[t,t]}},{key:"pathSize",get:function(){return this.svg?this.svg.size:[0,0]}},{key:"contentSize",get:function(){if(!this.svg)return(0,s.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"contentSize",this);var t=this.svg.bounds,n=(0,r.default)(this.attrSize,2),i=n[0],o=n[1],u=this.pathOffset;return""===i&&(i=t[2]-Math.min(0,t[0])+2*u[0]),""===o&&(o=t[3]-Math.min(0,t[1])+2*u[1]),[i,o].map(Math.ceil)}},{key:"originalRect",get:function(){var t=this.svg;if(t){var n=t.bounds,i=this.pathOffset,o=(0,r.default)(this.offsetSize,2),u=o[0],l=o[1],h=this.attr("anchor"),c=(0,r.default)(h,2),f=c[0],p=c[1],d=[0,0,u,l],y=Math.min(0,n[0]),g=Math.min(0,n[1]);return d[0]=y-i[0]-f*(u+y-2*i[0]),d[1]=g-i[1]-p*(l+g-2*i[1]),d}return(0,s.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"originalRect",this)}}]),e}(M),v.Attr=S,d=_,y(d.prototype,"contentSize",[k],(0,o.default)(d.prototype,"contentSize"),d.prototype),y(d.prototype,"originalRect",[k],(0,o.default)(d.prototype,"originalRect"),d.prototype),d);return(0,i.default)(m.prototype).forEach(function(t){if("Symbol(effects)"===t.toString()){var e=m.prototype[t],n=e.d,i=e.path;A.setAttributeEffects({d:n,path:i})}}),w("roughPath",A),{RoughPath:A}};var p=d(n(24));function d(t){return t&&t.__esModule?t:{default:t}}var y=n(18),g=(0,f.default)("path")},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=!n(13)&&!n(14)(function(){return 7!=Object.defineProperty(n(56)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(2),r=n(5).document,s=i(r)&&i(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,n){"use strict";var i=n(22),r=n(43),s=n(23),o=n(30),a=n(35),u=Object.assign;t.exports=!u||n(14)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=o(t),u=arguments.length,l=1,h=r.f,c=s.f;u>l;)for(var f,p=a(arguments[l++]),d=h?i(p).concat(h(p)):i(p),y=d.length,g=0;y>g;)c.call(p,f=d[g++])&&(n[f]=p[f]);return n}:u},function(t,e,n){var i=n(15),r=n(16),s=n(78)(!1),o=n(40)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,l=[];for(n in a)n!=o&&i(a,n)&&l.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~s(l,n)||l.push(n));return l}},function(t,e,n){"use strict";var i=n(28),r=n(1),s=n(44),o=n(11),a=n(20),u=n(85),l=n(32),h=n(60),c=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,y,g,v){u(n,e,d);var _,b,x,w=function(t){if(!f&&t in P)return P[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},m=e+" Iterator",M="values"==y,O=!1,P=t.prototype,k=P[c]||P["@@iterator"]||y&&P[y],S=k||w(y),A=y?M?w("entries"):S:void 0,E="Array"==e&&P.entries||k;if(E&&(x=h(E.call(new t)))!==Object.prototype&&x.next&&(l(x,m,!0),i||"function"==typeof x[c]||o(x,c,p)),M&&k&&"values"!==k.name&&(O=!0,S=function(){return k.call(this)}),i&&!v||!f&&!O&&P[c]||o(P,c,S),a[e]=S,a[m]=p,y)if(_={values:M?S:w("values"),keys:g?S:w("keys"),entries:A},v)for(b in _)b in P||s(P,b,_[b]);else r(r.P+r.F*(f||O),e,_);return _}},function(t,e,n){var i=n(15),r=n(30),s=n(40)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var i=n(36),r=n(3)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:s?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){var i=n(61),r=n(3)("iterator"),s=n(20);t.exports=n(0).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||s[i(t)]}},function(t,e,n){var i=n(1),r=n(0),s=n(14);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*s(function(){n(1)}),"Object",o)}},function(t,e,n){"use strict";e.__esModule=!0;var i=o(n(104)),r=o(n(26)),s="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===s(i.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e,n){"use strict";var i=n(5),r=n(15),s=n(13),o=n(1),a=n(44),u=n(33).KEY,l=n(14),h=n(41),c=n(32),f=n(29),p=n(3),d=n(48),y=n(49),g=n(107),v=n(66),_=n(6),b=n(2),x=n(16),w=n(34),m=n(27),M=n(45),O=n(108),P=n(47),k=n(12),S=n(22),A=P.f,E=k.f,T=O.f,j=i.Symbol,C=i.JSON,z=C&&C.stringify,R=p("_hidden"),L=p("toPrimitive"),W={}.propertyIsEnumerable,N=h("symbol-registry"),D=h("symbols"),F=h("op-symbols"),I=Object.prototype,V="function"==typeof j,$=i.QObject,q=!$||!$.prototype||!$.prototype.findChild,B=s&&l(function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=A(I,e);i&&delete I[e],E(t,e,n),i&&t!==I&&E(I,e,i)}:E,G=function(t){var e=D[t]=M(j.prototype);return e._k=t,e},U=V&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},X=function(t,e,n){return t===I&&X(F,e,n),_(t),e=w(e,!0),_(n),r(D,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=M(n,{enumerable:m(0,!1)})):(r(t,R)||E(t,R,m(1,{})),t[R][e]=!0),B(t,e,n)):E(t,e,n)},H=function(t,e){_(t);for(var n,i=g(e=x(e)),r=0,s=i.length;s>r;)X(t,n=i[r++],e[n]);return t},J=function(t){var e=W.call(this,t=w(t,!0));return!(this===I&&r(D,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=x(t),e=w(e,!0),t!==I||!r(D,e)||r(F,e)){var n=A(t,e);return!n||!r(D,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},Y=function(t){for(var e,n=T(x(t)),i=[],s=0;n.length>s;)r(D,e=n[s++])||e==R||e==u||i.push(e);return i},Z=function(t){for(var e,n=t===I,i=T(n?F:x(t)),s=[],o=0;i.length>o;)!r(D,e=i[o++])||n&&!r(I,e)||s.push(D[e]);return s};V||(a((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===I&&e.call(F,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),B(this,t,m(1,n))};return s&&q&&B(I,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),P.f=Q,k.f=X,n(67).f=O.f=Y,n(23).f=J,n(43).f=Z,s&&!n(28)&&a(I,"propertyIsEnumerable",J,!0),d.f=function(t){return G(p(t))}),o(o.G+o.W+o.F*!V,{Symbol:j});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;K.length>tt;)p(K[tt++]);for(var et=S(p.store),nt=0;et.length>nt;)y(et[nt++]);o(o.S+o.F*!V,"Symbol",{for:function(t){return r(N,t+="")?N[t]:N[t]=j(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!V,"Object",{create:function(t,e){return void 0===e?M(t):H(M(t),e)},defineProperty:X,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),C&&o(o.S+o.F*(!V||l(function(){var t=j();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!U(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!U(e))return e}),i[1]=e,z.apply(C,i)}}),j.prototype[L]||n(11)(j.prototype,L,j.prototype.valueOf),c(j,"Symbol"),c(Math,"Math",!0),c(i.JSON,"JSON",!0)},function(t,e,n){var i=n(36);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(58),r=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){},function(t,e,n){var i=n(11);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(2);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(19)),r=p(n(25)),s=p(n(7)),o=p(n(4)),a=p(n(8)),u=p(n(17)),l=p(n(9)),h=p(n(10)),c=p(n(26));e.default=function(t){var e,n,c,p,g,v=t.use,_=t.utils,b=t.registerNodeType,x=v(f.default).Rough,w=_.flow,m=_.attr,M=_.parseValue,O=(e=M(parseInt),n=function(t){function e(t){(0,a.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.setDefault({bounding:"path",curveStepCount:9}),n}return(0,h.default)(e,t),(0,u.default)(e,[{key:"bounding",set:function(t){this.set("bounding",t)}},{key:"curveStepCount",set:function(t){this.set("curveStepCount",t)}}]),e}(x.Attr),d(n.prototype,"bounding",[m],(0,s.default)(n.prototype,"bounding"),n.prototype),d(n.prototype,"curveStepCount",[e,m],(0,s.default)(n.prototype,"curveStepCount"),n.prototype),n),P=(g=p=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"pointCollision",value:function(t){var n=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"pointCollision",this).call(this,t);if(n&&"path"===this.attr("bounding")){var s=t.offsetX,a=t.offsetY,u=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"originalRect",this),l=(0,i.default)(u,4),h=l[0],c=l[1],f=l[2],p=l[3],d=h+f/2,y=c+p/2;return Math.pow(s-d,2)/Math.pow(f,2)+Math.pow(a-y,2)/Math.pow(p,2)<=.25}return n}},{key:"render",value:function(t,n){var s=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"render",this).call(this,t,n),a=s.context,u=s.options;u.curveStepCount=this.attr("curveStepCount");var l=this.attr("lineWidth")/2;n.save(),n.translate(l,l);var h=(0,i.default)(this.contentSize,2),c=h[0],f=h[1];return this.generators[y]||(this.generators[y]=a.generator.ellipse(c/2,f/2,c,f,u)),a.draw(this.generators[y]),n.restore(),{context:a,options:u}}},{key:"contentSize",get:function(){var t=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"contentSize",this),n=(0,i.default)(t,2),s=n[0],a=n[1],u=this.attr("lineWidth");return[s+u,a+u]}}]),e}(x),p.Attr=O,c=g,d(c.prototype,"contentSize",[w],(0,s.default)(c.prototype,"contentSize"),c.prototype),c);return b("roughEllipse",P),{RoughEllipse:P}};var f=p(n(24));function p(t){return t&&t.__esModule?t:{default:t}}var d=n(18),y=(0,c.default)("ellipse")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(7)),r=c(n(4)),s=c(n(8)),o=c(n(17)),a=c(n(9)),u=c(n(10));e.default=function(t){var e,n,c,p,d=t.use,y=t.utils,g=t.registerNodeType,v=d(l.default).RoughPath,_=y.attr,b=y.parseValue,x=(e=b(h.parseStringPoints),n=function(t){function e(t){(0,s.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.setDefault({points:"",closed:!1}),n}return(0,u.default)(e,t),(0,o.default)(e,[{key:"points",set:function(t){for(var e="M"+t[0][0]+","+t[0][1],n=1;n<t.length;n++)e+="L"+t[n][0]+","+t[n][1];this.closed&&(e+="z"),this.d=e,this.set("points",t)}},{key:"closed",set:function(t){this.set("closed",!!t),this.d=this.d.replace(/z$/,"")+"z"}}]),e}(v.Attr),f(n.prototype,"points",[e,_],(0,i.default)(n.prototype,"points"),n.prototype),f(n.prototype,"closed",[_],(0,i.default)(n.prototype,"closed"),n.prototype),n),w=(p=c=function(t){function e(){return(0,s.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(v),c.Attr=x,p);return g("roughPolyline",w),{RoughPolyline:w}};var l=c(n(52)),h=n(74);function c(t){return t&&t.__esModule?t:{default:t}}var f=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(19),s=(i=r)&&i.__esModule?i:{default:i};e.parseStringPoints=function(t){if("string"==typeof t&&""!==t){var e=t.split(","),n=e.length;if(n<4||n%2)throw new Error("Invalid points data.");for(var i=[],r=0;r<n;r+=2)i.push([Number(e[r].trim()),Number(e[r+1].trim())]);return i}return t},e.smoothCurve=function(t){t=t.map(function(t){var e=(0,s.default)(t,2),n=e[0],i=e[1];return{x:n,y:i}});var e="";return t.forEach(function(n,i){if(0===i)e+="M"+n.x+","+n.y;else{var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=void 0,s=void 0,o=void 0,a=void 0;if(t[e].x!==t[e+1].x&&t[e].y!==t[e+1].y||(n=0,i=0),e<1?(r=t[0].x+(t[1].x-t[0].x)*n,s=t[0].y+(t[1].y-t[0].y)*n):(r=t[e].x+(t[e+1].x-t[e-1].x)*n,s=t[e].y+(t[e+1].y-t[e-1].y)*n),e>t.length-3){var u=t.length-1;o=t[u].x-(t[u].x-t[u-1].x)*i,a=t[u].y-(t[u].y-t[u-1].y)*i}else o=t[e+1].x-(t[e+2].x-t[e].x)*i,a=t[e+1].y-(t[e+2].y-t[e].y)*i;return[{x:r,y:s},{x:o,y:a}]}(i-1),o=(0,s.default)(r,2),a=o[0],u=o[1];e+="C"+a.x+","+a.y+","+u.x+","+u.y+","+n.x+","+n.y}}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(53));e.install=d;var r=p(n(24)),s=p(n(131)),o=p(n(72)),a=p(n(132)),u=p(n(133)),l=p(n(52)),h=p(n(73)),c=p(n(136)),f=p(n(137));function p(t){return t&&t.__esModule?t:{default:t}}function d(t){t.use;return[r.default,s.default,o.default,u.default,a.default,l.default,h.default,c.default,f.default].reduce(function(t,e){return(0,i.default)(t,spritejs.use(e))},{})}"undefined"!=typeof window&&window.spritejs&&window.spritejs.use(d)},function(t,e,n){n(77),t.exports=n(0).Object.assign},function(t,e,n){var i=n(1);i(i.S+i.F,"Object",{assign:n(57)})},function(t,e,n){var i=n(16),r=n(38),s=n(79);t.exports=function(t){return function(e,n,o){var a,u=i(e),l=r(u.length),h=s(o,l);if(t&&n!=n){for(;l>h;)if((a=u[h++])!=a)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},function(t,e,n){var i=n(39),r=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):s(t,e)}},function(t,e,n){t.exports={default:n(81),__esModule:!0}},function(t,e,n){n(31),n(46),t.exports=n(89)},function(t,e,n){"use strict";var i=n(83),r=n(84),s=n(20),o=n(16);t.exports=n(59)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(45),r=n(27),s=n(32),o={};n(11)(o,n(3)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:r(1,n)}),s(t,e+" Iterator")}},function(t,e,n){var i=n(12),r=n(6),s=n(22);t.exports=n(13)?Object.defineProperties:function(t,e){r(t);for(var n,o=s(e),a=o.length,u=0;a>u;)i.f(t,n=o[u++],e[n]);return t}},function(t,e,n){var i=n(5).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(39),r=n(37);t.exports=function(t){return function(e,n){var s,o,a=String(r(e)),u=i(n),l=a.length;return u<0||u>=l?t?"":void 0:(s=a.charCodeAt(u))<55296||s>56319||u+1===l||(o=a.charCodeAt(u+1))<56320||o>57343?t?a.charAt(u):s:t?a.slice(u,u+2):o-56320+(s-55296<<10)+65536}}},function(t,e,n){var i=n(61),r=n(3)("iterator"),s=n(20);t.exports=n(0).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||s.hasOwnProperty(i(e))}},function(t,e,n){t.exports={default:n(91),__esModule:!0}},function(t,e,n){n(31),n(46),t.exports=n(92)},function(t,e,n){var i=n(6),r=n(62);t.exports=n(0).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){t.exports={default:n(94),__esModule:!0}},function(t,e,n){n(95),t.exports=n(0).Object.entries},function(t,e,n){var i=n(1),r=n(96)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var i=n(22),r=n(16),s=n(23).f;t.exports=function(t){return function(e){for(var n,o=r(e),a=i(o),u=a.length,l=0,h=[];u>l;)s.call(o,n=a[l++])&&h.push(t?[n,o[n]]:o[n]);return h}}},function(t,e,n){n(98),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){var i=n(30),r=n(60);n(63)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){n(100);var i=n(0).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var i=n(16),r=n(47).f;n(63)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){t.exports={default:n(102),__esModule:!0}},function(t,e,n){n(103);var i=n(0).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(1);i(i.S+i.F*!n(13),"Object",{defineProperty:n(12).f})},function(t,e,n){t.exports={default:n(105),__esModule:!0}},function(t,e,n){n(46),n(31),t.exports=n(48).f("iterator")},function(t,e,n){n(65),n(68),n(109),n(110),t.exports=n(0).Symbol},function(t,e,n){var i=n(22),r=n(43),s=n(23);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var o,a=n(t),u=s.f,l=0;a.length>l;)u.call(t,o=a[l++])&&e.push(o);return e}},function(t,e,n){var i=n(16),r=n(67).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(i(t))}},function(t,e,n){n(49)("asyncIterator")},function(t,e,n){n(49)("observable")},function(t,e,n){t.exports={default:n(112),__esModule:!0}},function(t,e,n){n(113),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){var i=n(1);i(i.S,"Object",{setPrototypeOf:n(114).set})},function(t,e,n){var i=n(2),r=n(6),s=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(21)(Function.call,n(47).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:s}},function(t,e,n){t.exports={default:n(116),__esModule:!0}},function(t,e,n){n(117);var i=n(0).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(1);i(i.S,"Object",{create:n(45)})},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){n(68),n(31),n(120),n(127),n(129),t.exports=n(0).WeakMap},function(t,e,n){"use strict";var i,r=n(50)(0),s=n(44),o=n(33),a=n(57),u=n(123),l=n(2),h=n(14),c=n(71),f=o.getWeak,p=Object.isExtensible,d=u.ufstore,y={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(l(t)){var e=f(t);return!0===e?d(c(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,"WeakMap"),t,e)}},_=t.exports=n(126)("WeakMap",g,v,u,!0,!0);h(function(){return 7!=(new _).set((Object.freeze||Object)(y),7).get(y)})&&(a((i=u.getConstructor(g,"WeakMap")).prototype,v),o.NEED=!0,r(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];s(e,t,function(e,r){if(l(e)&&!p(e)){this._f||(this._f=new i);var s=this._f[t](e,r);return"set"==t?this:s}return n.call(this,e,r)})}))},function(t,e,n){var i=n(122);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(2),r=n(66),s=n(3)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(69),r=n(33).getWeak,s=n(6),o=n(2),a=n(70),u=n(51),l=n(50),h=n(15),c=n(71),f=l(5),p=l(6),d=0,y=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,s){var l=t(function(t,i){a(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=i&&u(i,n,t[s],t)});return i(l.prototype,{delete:function(t){if(!o(t))return!1;var n=r(t);return!0===n?y(c(this,e)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function(t){if(!o(t))return!1;var n=r(t);return!0===n?y(c(this,e)).has(t):n&&h(n,this._i)}}),l},def:function(t,e,n){var i=r(s(e),!0);return!0===i?y(t).set(e,n):i[t._i]=n,t},ufstore:y}},function(t,e,n){var i=n(6);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var s=t.return;throw void 0!==s&&i(s.call(t)),e}}},function(t,e,n){var i=n(20),r=n(3)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[r]===t)}},function(t,e,n){"use strict";var i=n(5),r=n(1),s=n(33),o=n(14),a=n(11),u=n(69),l=n(51),h=n(70),c=n(2),f=n(32),p=n(12).f,d=n(50)(0),y=n(13);t.exports=function(t,e,n,g,v,_){var b=i[t],x=b,w=v?"set":"add",m=x&&x.prototype,M={};return y&&"function"==typeof x&&(_||m.forEach&&!o(function(){(new x).entries().next()}))?(x=e(function(e,n){h(e,x,t,"_c"),e._c=new b,null!=n&&l(n,v,e[w],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in m&&(!_||"clear"!=t)&&a(x.prototype,t,function(n,i){if(h(this,x,t),!e&&_&&!c(n))return"get"==t&&void 0;var r=this._c[t](0===n?0:n,i);return e?this:r})}),_||p(x.prototype,"size",{get:function(){return this._c.size}})):(x=g.getConstructor(e,t,v,w),u(x.prototype,n),s.NEED=!0),f(x,t),M[t]=x,r(r.G+r.W+r.F,M),_||g.setStrong(x,t,v),x}},function(t,e,n){n(128)("WeakMap")},function(t,e,n){"use strict";var i=n(1);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(130)("WeakMap")},function(t,e,n){"use strict";var i=n(1),r=n(54),s=n(21),o=n(51);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,a,u=arguments[1];return r(this),(e=void 0!==u)&&r(u),null==t?new this:(n=[],e?(i=0,a=s(u,arguments[2],2),o(t,!1,function(t){n.push(a(t,i++))})):o(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(7)),r=p(n(19)),s=p(n(4)),o=p(n(8)),a=p(n(17)),u=p(n(9)),l=p(n(25)),h=p(n(10)),c=p(n(26));e.default=function(t){var e,n=t.use,c=t.utils,p=t.registerNodeType,g=n(f.default).Rough,v=c.flow,_=(e=function(t){function e(){return(0,o.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,a.default)(e,[{key:"render",value:function(t,n){var i=(0,l.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"render",this).call(this,t,n),o=i.context,a=i.options,u=this.attr("lineWidth")/2;n.save(),n.translate(u,u);var h=(0,r.default)(this.attrSize,2),c=h[0],f=h[1];return this.generators[y]||(this.generators[y]=o.generator.rectangle(0,0,c,f,a)),o.draw(this.generators[y]),n.restore(),{context:o,options:a}}},{key:"contentSize",get:function(){var t=(0,l.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"contentSize",this),n=(0,r.default)(t,2),i=n[0],o=n[1],a=this.attr("lineWidth");return[i+a,o+a]}}]),e}(g),d(e.prototype,"contentSize",[v],(0,i.default)(e.prototype,"contentSize"),e.prototype),e);return p("roughRect",_),{RoughRect:_}};var f=p(n(24));function p(t){return t&&t.__esModule?t:{default:t}}var d=n(18),y=(0,c.default)("rect")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(7)),r=h(n(4)),s=h(n(8)),o=h(n(17)),a=h(n(9)),u=h(n(10));e.default=function(t){var e,n,h,f,p,d=t.use,y=t.utils,g=t.registerNodeType,v=d(l.default).RoughEllipse,_=y.parseValue,b=y.attr,x=(e=_(parseFloat),n=_(parseFloat),h=function(t){function e(){return(0,s.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"diameter",set:function(t){this.width=t,this.height=t},get:function(){return this.width}},{key:"radius",set:function(t){this.diameter=2*t},get:function(){return this.diameter/2}}]),e}(v.Attr),c(h.prototype,"diameter",[e,b],(0,i.default)(h.prototype,"diameter"),h.prototype),c(h.prototype,"radius",[n,b],(0,i.default)(h.prototype,"radius"),h.prototype),h),w=(p=f=function(t){function e(){return(0,s.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(v),f.Attr=x,p);return g("roughCircle",w),{RoughCircle:w}};var l=h(n(72));function h(t){return t&&t.__esModule?t:{default:t}}var c=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(19)),r=p(n(25)),s=p(n(7)),o=p(n(4)),a=p(n(8)),u=p(n(17)),l=p(n(9)),h=p(n(10)),c=p(n(26));e.default=function(t){var e,n,c,p,g,v,_,b=t.use,x=t.utils,w=t.registerNodeType,m=b(f.default).Rough,M=x.flow,O=x.attr,P=x.parseValue,k=(e=P(parseFloat),n=P(parseFloat),c=P(parseInt),p=function(t){function e(t){(0,a.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.setDefault({startAngle:0,stopAngle:90,closed:!1,bounding:"path",curveStepCount:9}),n}return(0,h.default)(e,t),(0,u.default)(e,[{key:"startAngle",set:function(t){this.set("startAngle",t)}},{key:"stopAngle",set:function(t){this.set("stopAngle",t)}},{key:"closed",set:function(t){this.set("closed",!!t)}},{key:"bounding",set:function(t){this.set("bounding",t)}},{key:"curveStepCount",set:function(t){this.set("curveStepCount",t)}}]),e}(m.Attr),d(p.prototype,"startAngle",[e,O],(0,s.default)(p.prototype,"startAngle"),p.prototype),d(p.prototype,"stopAngle",[n,O],(0,s.default)(p.prototype,"stopAngle"),p.prototype),d(p.prototype,"closed",[O],(0,s.default)(p.prototype,"closed"),p.prototype),d(p.prototype,"bounding",[O],(0,s.default)(p.prototype,"bounding"),p.prototype),d(p.prototype,"curveStepCount",[c,O],(0,s.default)(p.prototype,"curveStepCount"),p.prototype),p),S=(_=v=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"pointCollision",value:function(t){var n=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"pointCollision",this).call(this,t);if(n&&"path"===this.attr("bounding")){var s=t.offsetX,a=t.offsetY,u=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"originalRect",this),l=(0,i.default)(u,4),h=l[0],c=l[1],f=l[2],p=l[3],d=h+f/2,y=c+p/2,g=Math.pow(s-d,2)/Math.pow(f,2)+Math.pow(a-y,2)/Math.pow(p,2),v=this.attr("lineWidth"),_=this.attr("closed");if(g>.25||!_&&g<.25*Math.pow((f-2*v)/f,2))return!1;var b=this.attributes,x=b.startAngle,w=b.stopAngle;if(x>w){var m=[w,x];x=m[0],w=m[1]}w+=x%360-x,(x%=360)<0&&(w+=360,x+=360),x=x*Math.PI/180,w=w*Math.PI/180;var M=Math.atan2(a-y,s-d);return M<x&&(M+=2*Math.PI),M<=w}return n}},{key:"render",value:function(t,n){var s=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"render",this).call(this,t,n),a=s.context,u=s.options;u.curveStepCount=this.attr("curveStepCount");var l=this.attr("lineWidth")/2;n.save(),n.translate(l,l);var h=(0,i.default)(this.contentSize,2),c=h[0],f=h[1],p=this.attributes,d=p.startAngle,g=p.stopAngle,v=this.attr("closed");if(d>g){var _=[g,d];d=_[0],g=_[1]}return this.generators[y]||(this.generators[y]=a.generator.arc(c/2,f/2,c,f,Math.PI*d/180,Math.PI*g/180,v,u)),a.draw(this.generators[y]),n.restore(),{context:a,options:u}}},{key:"contentSize",get:function(){var t=(0,r.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"contentSize",this),n=(0,i.default)(t,2),s=n[0],a=n[1],u=this.attr("lineWidth");return[s+u,a+u]}}]),e}(m),v.Attr=k,g=_,d(g.prototype,"contentSize",[M],(0,s.default)(g.prototype,"contentSize"),g.prototype),g);return w("roughArc",S),{RoughArc:S}};var f=p(n(24));function p(t){return t&&t.__esModule?t:{default:t}}var d=n(18),y=(0,c.default)("arc")},function(t,e,n){t.exports={default:n(135),__esModule:!0}},function(t,e,n){n(65),t.exports=n(0).Object.getOwnPropertySymbols},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(4)),r=u(n(8)),s=u(n(9)),o=u(n(10));e.default=function(t){var e,n,u=t.use,l=(t.utils,t.registerNodeType),h=u(a.default).RoughPolyline,c=function(t){function e(t){(0,r.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.setDefault({closed:!0}),n}return(0,o.default)(e,t),e}(h.Attr),f=(n=e=function(t){function e(){return(0,r.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,o.default)(e,t),e}(h),e.Attr=c,n);return l("roughPolygon",f),{RoughPolygon:f}};var a=u(n(73));function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(7)),r=c(n(4)),s=c(n(8)),o=c(n(17)),a=c(n(9)),u=c(n(10));e.default=function(t){var e,n,c,p,d=t.use,y=t.utils,g=t.registerNodeType,v=d(l.default).RoughPath,_=y.attr,b=y.parseValue,x=(e=b(h.parseStringPoints),n=function(t){function e(t){(0,s.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.setDefault({points:""}),n}return(0,u.default)(e,t),(0,o.default)(e,[{key:"points",set:function(t){var e=(0,h.smoothCurve)(t);this.d=e,this.set("points",t)}}]),e}(v.Attr),f(n.prototype,"points",[e,_],(0,i.default)(n.prototype,"points"),n.prototype),n),w=(p=c=function(t){function e(){return(0,s.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(v),c.Attr=x,p);return g("roughPolyline",w),{RoughCurve:w}};var l=c(n(52)),h=n(74);function c(t){return t&&t.__esModule?t:{default:t}}var f=n(18)},function(t,e,n){"use strict";function i(t,e){return t.type===e}n.r(e);const r={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0};class s{constructor(t){this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(t),this.processPoints()}tokenize(t){const e=new Array;for(;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:this.COMMAND,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return console.error("Unrecognized segment command: "+t),[];e[e.length]={type:this.NUMBER,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:this.EOD,text:""},e}parseData(t){const e=this.tokenize(t);let n=0,s=e[n],o="BOD";for(this.segments=new Array;!i(s,this.EOD);){let a;const u=new Array;if("BOD"===o){if("M"!==s.text&&"m"!==s.text)return void this.parseData("M0,0"+t);n++,a=r[s.text],o=s.text}else i(s,this.NUMBER)?a=r[o]:(n++,a=r[s.text],o=s.text);if(n+a<e.length){for(let t=n;t<n+a;t++){const n=e[t];if(!i(n,this.NUMBER))return void console.error("Parameter type is not a number: "+o+","+n.text);u[u.length]=+n.text}if("number"!=typeof r[o])return void console.error("Unsupported segment type: "+o);{const t={key:o,data:u};this.segments.push(t),s=e[n+=a],"M"===o&&(o="L"),"m"===o&&(o="l")}}else console.error("Path data ended before all parameters were found")}}get closed(){if(void 0===this._closed){this._closed=!1;for(const t of this.segments)"z"===t.key.toLowerCase()&&(this._closed=!0)}return this._closed}processPoints(){let t=null,e=[0,0];for(let n=0;n<this.segments.length;n++){const i=this.segments[n];switch(i.key){case"M":case"L":case"T":i.point=[i.data[0],i.data[1]];break;case"m":case"l":case"t":i.point=[i.data[0]+e[0],i.data[1]+e[1]];break;case"H":i.point=[i.data[0],e[1]];break;case"h":i.point=[i.data[0]+e[0],e[1]];break;case"V":i.point=[e[0],i.data[0]];break;case"v":i.point=[e[0],i.data[0]+e[1]];break;case"z":case"Z":t&&(i.point=[t[0],t[1]]);break;case"C":i.point=[i.data[4],i.data[5]];break;case"c":i.point=[i.data[4]+e[0],i.data[5]+e[1]];break;case"S":i.point=[i.data[2],i.data[3]];break;case"s":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case"Q":i.point=[i.data[2],i.data[3]];break;case"q":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case"A":i.point=[i.data[5],i.data[6]];break;case"a":i.point=[i.data[5]+e[0],i.data[6]+e[1]]}"m"!==i.key&&"M"!==i.key||(t=null),i.point&&(e=i.point,t||(t=i.point)),"z"!==i.key&&"Z"!==i.key||(t=null)}}}class o{constructor(t){this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new s(t)}get segments(){return this.parsed.segments}get closed(){return this.parsed.closed}get linearPoints(){if(!this._linearPoints){const t=[];let e=[];for(const n of this.parsed.segments){const i=n.key.toLowerCase();("m"!==i&&"z"!==i||(e.length&&(t.push(e),e=[]),"z"!==i))&&(n.point&&e.push(n.point))}e.length&&(t.push(e),e=[]),this._linearPoints=t}return this._linearPoints}get first(){return this._first}set first(t){this._first=t}setPosition(t,e){this._position=[t,e],this._first||(this._first=[t,e])}get position(){return this._position}get x(){return this._position[0]}get y(){return this._position[1]}}class a{constructor(t,e,n,i,r,s){if(this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=t,t[0]===e[0]&&t[1]===e[1])return;const o=Math.PI/180;this._rx=Math.abs(n[0]),this._ry=Math.abs(n[1]),this._sinPhi=Math.sin(i*o),this._cosPhi=Math.cos(i*o);const a=this._cosPhi*(t[0]-e[0])/2+this._sinPhi*(t[1]-e[1])/2,u=-this._sinPhi*(t[0]-e[0])/2+this._cosPhi*(t[1]-e[1])/2;let l=0;const h=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*u*u-this._ry*this._ry*a*a;if(h<0){const t=Math.sqrt(1-h/(this._rx*this._rx*this._ry*this._ry));this._rx=this._rx*t,this._ry=this._ry*t,l=0}else l=(r===s?-1:1)*Math.sqrt(h/(this._rx*this._rx*u*u+this._ry*this._ry*a*a));const c=l*this._rx*u/this._ry,f=-l*this._ry*a/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*c-this._sinPhi*f+(t[0]+e[0])/2,this._C[1]=this._sinPhi*c+this._cosPhi*f+(t[1]+e[1])/2,this._theta=this.calculateVectorAngle(1,0,(a-c)/this._rx,(u-f)/this._ry);let p=this.calculateVectorAngle((a-c)/this._rx,(u-f)/this._ry,(-a-c)/this._rx,(-u-f)/this._ry);!s&&p>0?p-=2*Math.PI:s&&p<0&&(p+=2*Math.PI),this._numSegs=Math.ceil(Math.abs(p/(Math.PI/2))),this._delta=p/this._numSegs,this._T=8/3*Math.sin(this._delta/4)*Math.sin(this._delta/4)/Math.sin(this._delta/2)}getNextSegment(){if(this._segIndex===this._numSegs)return null;const t=Math.cos(this._theta),e=Math.sin(this._theta),n=this._theta+this._delta,i=Math.cos(n),r=Math.sin(n),s=[this._cosPhi*this._rx*i-this._sinPhi*this._ry*r+this._C[0],this._sinPhi*this._rx*i+this._cosPhi*this._ry*r+this._C[1]],o=[this._from[0]+this._T*(-this._cosPhi*this._rx*e-this._sinPhi*this._ry*t),this._from[1]+this._T*(-this._sinPhi*this._rx*e+this._cosPhi*this._ry*t)],a=[s[0]+this._T*(this._cosPhi*this._rx*r+this._sinPhi*this._ry*i),s[1]+this._T*(this._sinPhi*this._rx*r-this._cosPhi*this._ry*i)];return this._theta=n,this._from=[s[0],s[1]],this._segIndex++,{cp1:o,cp2:a,to:s}}calculateVectorAngle(t,e,n,i){const r=Math.atan2(e,t),s=Math.atan2(i,n);return s>=r?s-r:2*Math.PI-(r-s)}}class u{constructor(t,e){this.sets=t,this.closed=e}fit(t){const e=[];for(const n of this.sets){const i=n.length;let r=Math.floor(t*i);if(r<5){if(i<=5)continue;r=5}e.push(this.reduce(n,r))}let n="";for(const t of e){for(let e=0;e<t.length;e++){const i=t[e];n+=0===e?"M"+i[0]+","+i[1]:"L"+i[0]+","+i[1]}this.closed&&(n+="z ")}return n}distance(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}reduce(t,e){if(t.length<=e)return t;const n=t.slice(0);for(;n.length>e;){const t=[];let e=-1,i=-1;for(let r=1;r<n.length-1;r++){const s=this.distance(n[r-1],n[r]),o=this.distance(n[r],n[r+1]),a=this.distance(n[r-1],n[r+1]),u=(s+o+a)/2,l=Math.sqrt(u*(u-s)*(u-o)*(u-a));t.push(l),(e<0||l<e)&&(e=l,i=r)}if(!(i>0))break;n.splice(i,1)}return n}}class l{constructor(t,e){this.xi=Number.MAX_VALUE,this.yi=Number.MAX_VALUE,this.px1=t[0],this.py1=t[1],this.px2=e[0],this.py2=e[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}isUndefined(){return this._undefined}intersects(t){if(this.isUndefined()||t.isUndefined())return!1;let e=Number.MAX_VALUE,n=Number.MAX_VALUE,i=0,r=0;const s=this.a,o=this.b,a=this.c;return Math.abs(o)>1e-5&&(e=-s/o,i=-a/o),Math.abs(t.b)>1e-5&&(n=-t.a/t.b,r=-t.c/t.b),e===Number.MAX_VALUE?n===Number.MAX_VALUE?-a/s==-t.c/t.a&&(this.py1>=Math.min(t.py1,t.py2)&&this.py1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.py2>=Math.min(t.py1,t.py2)&&this.py2<=Math.max(t.py1,t.py2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=n*this.xi+r,!((this.py1-this.yi)*(this.yi-this.py2)<-1e-5||(t.py1-this.yi)*(this.yi-t.py2)<-1e-5)&&(!(Math.abs(t.a)<1e-5)||!((t.px1-this.xi)*(this.xi-t.px2)<-1e-5))):n===Number.MAX_VALUE?(this.xi=t.px1,this.yi=e*this.xi+i,!((t.py1-this.yi)*(this.yi-t.py2)<-1e-5||(this.py1-this.yi)*(this.yi-this.py2)<-1e-5)&&(!(Math.abs(s)<1e-5)||!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5))):e===n?i===r&&(this.px1>=Math.min(t.px1,t.px2)&&this.px1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.px2>=Math.min(t.px1,t.px2)&&this.px2<=Math.max(t.px1,t.px2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(r-i)/(e-n),this.yi=e*this.xi+i,!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5||(t.px1-this.xi)*(this.xi-t.px2)<-1e-5))}}class h{constructor(t,e,n,i,r,s,o,a){this.deltaX=0,this.hGap=0,this.top=t,this.bottom=e,this.left=n,this.right=i,this.gap=r,this.sinAngle=s,this.tanAngle=a,Math.abs(s)<1e-4?this.pos=n+r:Math.abs(s)>.9999?this.pos=t+r:(this.deltaX=(e-t)*Math.abs(a),this.pos=n-Math.abs(this.deltaX),this.hGap=Math.abs(r/o),this.sLeft=new l([n,e],[n,t]),this.sRight=new l([i,e],[i,t]))}nextLine(){if(Math.abs(this.sinAngle)<1e-4){if(this.pos<this.right){const t=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,t}}else if(Math.abs(this.sinAngle)>.9999){if(this.pos<this.bottom){const t=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,t}}else{let t=this.pos-this.deltaX/2,e=this.pos+this.deltaX/2,n=this.bottom,i=this.top;if(this.pos<this.right+this.deltaX){for(;t<this.left&&e<this.left||t>this.right&&e>this.right;)if(this.pos+=this.hGap,t=this.pos-this.deltaX/2,e=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;const r=new l([t,n],[e,i]);this.sLeft&&r.intersects(this.sLeft)&&(t=r.xi,n=r.yi),this.sRight&&r.intersects(this.sRight)&&(e=r.xi,i=r.yi),this.tanAngle>0&&(t=this.right-(t-this.left),e=this.right-(e-this.left));const s=[t,n,e,i];return this.pos+=this.hGap,s}}return null}}function c(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function f(t,e){const n=[],i=new l([t[0],t[1]],[t[2],t[3]]);for(let t=0;t<e.length;t++){const r=new l(e[t],e[(t+1)%e.length]);i.intersects(r)&&n.push([i.xi,i.yi])}return n}function p(t,e,n,i,r,s,o){return[-n*s-i*r+n+s*t+r*e,o*(n*r-i*s)+i+-o*r*t+o*s*e]}function d(t,e){const n=[];if(t&&t.length){let i=t[0][0],r=t[0][0],s=t[0][1],o=t[0][1];for(let e=1;e<t.length;e++)i=Math.min(i,t[e][0]),r=Math.max(r,t[e][0]),s=Math.min(s,t[e][1]),o=Math.max(o,t[e][1]);const a=e.hachureAngle;let u=e.hachureGap;u<0&&(u=4*e.strokeWidth),u=Math.max(u,.1);const l=a%180*(Math.PI/180),c=Math.cos(l),p=Math.sin(l),d=Math.tan(l),y=new h(s-1,o+1,i-1,r+1,u,p,c,d);let g;for(;null!=(g=y.nextLine());){const e=f(g,t);for(let t=0;t<e.length;t++)if(t<e.length-1){const i=e[t],r=e[t+1];n.push([i,r])}}}return n}function y(t,e,n,i,r,s){const o=[];let a=Math.abs(n/2),u=Math.abs(i/2);a+=s.getOffset(.05*-a,.05*a,r),u+=s.getOffset(.05*-u,.05*u,r);const l=r.hachureAngle;let h=r.hachureGap;h<=0&&(h=4*r.strokeWidth);let c=r.fillWeight;c<0&&(c=r.strokeWidth/2);const f=l%180*(Math.PI/180),d=Math.tan(f),y=u/a,g=Math.sqrt(y*d*y*d+1),v=y*d/g,_=1/g,b=h/(a*u/Math.sqrt(u*_*(u*_)+a*v*(a*v))/a);let x=Math.sqrt(a*a-(t-a+b)*(t-a+b));for(let n=t-a+b;n<t+a;n+=b){const i=p(n,e-(x=Math.sqrt(a*a-(t-n)*(t-n))),t,e,v,_,y),r=p(n,e+x,t,e,v,_,y);o.push([i,r])}return o}class g{constructor(t){this.renderer=t}fillPolygon(t,e){return this._fillPolygon(t,e)}fillEllipse(t,e,n,i,r){return this._fillEllipse(t,e,n,i,r)}_fillPolygon(t,e,n=!1){const i=d(t,e);return{type:"fillSketch",ops:this.renderLines(i,e,n)}}_fillEllipse(t,e,n,i,r,s=!1){const o=y(t,e,n,i,r,this.renderer);return{type:"fillSketch",ops:this.renderLines(o,r,s)}}renderLines(t,e,n){let i=[],r=null;for(const s of t)i=i.concat(this.renderer.doubleLine(s[0][0],s[0][1],s[1][0],s[1][1],e)),n&&r&&(i=i.concat(this.renderer.doubleLine(r[0],r[1],s[0][0],s[0][1],e))),r=s[1];return i}}class v extends g{fillPolygon(t,e){return this._fillPolygon(t,e,!0)}fillEllipse(t,e,n,i,r){return this._fillEllipse(t,e,n,i,r,!0)}}class _ extends g{fillPolygon(t,e){const n=this._fillPolygon(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),r=this._fillPolygon(t,i);return n.ops=n.ops.concat(r.ops),n}fillEllipse(t,e,n,i,r){const s=this._fillEllipse(t,e,n,i,r),o=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillEllipse(t,e,n,i,o);return s.ops=s.ops.concat(a.ops),s}}class b{constructor(t){this.renderer=t}fillPolygon(t,e){const n=d(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0}));return this.dotsOnLines(n,e)}fillEllipse(t,e,n,i,r){const s=y(t,e,n,i,r=Object.assign({},r,{curveStepCount:4,hachureAngle:0}),this.renderer);return this.dotsOnLines(s,r)}dotsOnLines(t,e){let n=[],i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.max(i,.1);let r=e.fillWeight;r<0&&(r=e.strokeWidth/2);for(const s of t){const t=c(s)/i,o=Math.ceil(t)-1,a=Math.atan((s[1][1]-s[0][1])/(s[1][0]-s[0][0]));for(let t=0;t<o;t++){const o=i*(t+1),u=o*Math.sin(a),l=o*Math.cos(a),h=[s[0][0]-l,s[0][1]+u],c=this.renderer.getOffset(h[0]-i/4,h[0]+i/4,e),f=this.renderer.getOffset(h[1]-i/4,h[1]+i/4,e),p=this.renderer.ellipse(c,f,r,r,e);n=n.concat(p.ops)}}return{type:"fillSketch",ops:n}}}const x={};function w(t,e){let n=e.fillStyle||"hachure";if(!x[n])switch(n){case"zigzag":x[n]||(x[n]=new v(t));break;case"cross-hatch":x[n]||(x[n]=new _(t));break;case"dots":x[n]||(x[n]=new b(t));break;case"hachure":default:x[n="hachure"]||(x[n]=new g(t))}return x[n]}class m{line(t,e,n,i,r){return{type:"path",ops:this.doubleLine(t,e,n,i,r)}}linearPath(t,e,n){const i=(t||[]).length;if(i>2){let r=[];for(let e=0;e<i-1;e++)r=r.concat(this.doubleLine(t[e][0],t[e][1],t[e+1][0],t[e+1][1],n));return e&&(r=r.concat(this.doubleLine(t[i-1][0],t[i-1][1],t[0][0],t[0][1],n))),{type:"path",ops:r}}return 2===i?this.line(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}polygon(t,e){return this.linearPath(t,!0,e)}rectangle(t,e,n,i,r){const s=[[t,e],[t+n,e],[t+n,e+i],[t,e+i]];return this.polygon(s,r)}curve(t,e){const n=this._curveWithOffset(t,1*(1+.2*e.roughness),e),i=this._curveWithOffset(t,1.5*(1+.22*e.roughness),e);return{type:"path",ops:n.concat(i)}}ellipse(t,e,n,i,r){const s=2*Math.PI/r.curveStepCount;let o=Math.abs(n/2),a=Math.abs(i/2);o+=this.getOffset(.05*-o,.05*o,r),a+=this.getOffset(.05*-a,.05*a,r);const u=this._ellipse(s,t,e,o,a,1,s*this.getOffset(.1,this.getOffset(.4,1,r),r),r),l=this._ellipse(s,t,e,o,a,1.5,0,r);return{type:"path",ops:u.concat(l)}}arc(t,e,n,i,r,s,o,a,u){const l=t,h=e;let c=Math.abs(n/2),f=Math.abs(i/2);c+=this.getOffset(.01*-c,.01*c,u),f+=this.getOffset(.01*-f,.01*f,u);let p=r,d=s;for(;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);const y=2*Math.PI/u.curveStepCount,g=Math.min(y/2,(d-p)/2),v=this._arc(g,l,h,c,f,p,d,1,u),_=this._arc(g,l,h,c,f,p,d,1.5,u);let b=v.concat(_);return o&&(a?b=(b=b.concat(this.doubleLine(l,h,l+c*Math.cos(p),h+f*Math.sin(p),u))).concat(this.doubleLine(l,h,l+c*Math.cos(d),h+f*Math.sin(d),u)):(b.push({op:"lineTo",data:[l,h]}),b.push({op:"lineTo",data:[l+c*Math.cos(p),h+f*Math.sin(p)]}))),{type:"path",ops:b}}svgPath(t,e){t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let n=new o(t);if(e.simplification){const t=new u(n.linearPoints,n.closed).fit(e.simplification);n=new o(t)}let i=[];const r=n.segments||[];for(let t=0;t<r.length;t++){const s=r[t],o=t>0?r[t-1]:null,a=this._processSegment(n,s,o,e);a&&a.length&&(i=i.concat(a))}return{type:"path",ops:i}}solidFillPolygon(t,e){const n=[];if(t.length){const i=e.maxRandomnessOffset||0,r=t.length;if(r>2){n.push({op:"move",data:[t[0][0]+this.getOffset(-i,i,e),t[0][1]+this.getOffset(-i,i,e)]});for(let s=1;s<r;s++)n.push({op:"lineTo",data:[t[s][0]+this.getOffset(-i,i,e),t[s][1]+this.getOffset(-i,i,e)]})}}return{type:"fillPath",ops:n}}patternFillPolygon(t,e){return w(this,e).fillPolygon(t,e)}patternFillEllipse(t,e,n,i,r){return w(this,r).fillEllipse(t,e,n,i,r)}patternFillArc(t,e,n,i,r,s,o){const a=t,u=e;let l=Math.abs(n/2),h=Math.abs(i/2);l+=this.getOffset(.01*-l,.01*l,o),h+=this.getOffset(.01*-h,.01*h,o);let c=r,f=s;for(;c<0;)c+=2*Math.PI,f+=2*Math.PI;f-c>2*Math.PI&&(c=0,f=2*Math.PI);const p=(f-c)/o.curveStepCount,d=[];for(let t=c;t<=f;t+=p)d.push([a+l*Math.cos(t),u+h*Math.sin(t)]);return d.push([a+l*Math.cos(f),u+h*Math.sin(f)]),d.push([a,u]),this.patternFillPolygon(d,o)}getOffset(t,e,n){return n.roughness*(Math.random()*(e-t)+t)}doubleLine(t,e,n,i,r){const s=this._line(t,e,n,i,r,!0,!1),o=this._line(t,e,n,i,r,!0,!0);return s.concat(o)}_line(t,e,n,i,r,s,o){const a=Math.pow(t-n,2)+Math.pow(e-i,2);let u=r.maxRandomnessOffset||0;u*u*100>a&&(u=Math.sqrt(a)/10);const l=u/2,h=.2+.2*Math.random();let c=r.bowing*r.maxRandomnessOffset*(i-e)/200,f=r.bowing*r.maxRandomnessOffset*(t-n)/200;c=this.getOffset(-c,c,r),f=this.getOffset(-f,f,r);const p=[];return s&&(o?p.push({op:"move",data:[t+this.getOffset(-l,l,r),e+this.getOffset(-l,l,r)]}):p.push({op:"move",data:[t+this.getOffset(-u,u,r),e+this.getOffset(-u,u,r)]})),o?p.push({op:"bcurveTo",data:[c+t+(n-t)*h+this.getOffset(-l,l,r),f+e+(i-e)*h+this.getOffset(-l,l,r),c+t+2*(n-t)*h+this.getOffset(-l,l,r),f+e+2*(i-e)*h+this.getOffset(-l,l,r),n+this.getOffset(-l,l,r),i+this.getOffset(-l,l,r)]}):p.push({op:"bcurveTo",data:[c+t+(n-t)*h+this.getOffset(-u,u,r),f+e+(i-e)*h+this.getOffset(-u,u,r),c+t+2*(n-t)*h+this.getOffset(-u,u,r),f+e+2*(i-e)*h+this.getOffset(-u,u,r),n+this.getOffset(-u,u,r),i+this.getOffset(-u,u,r)]}),p}_curve(t,e,n){const i=t.length;let r=[];if(i>3){const s=[],o=1-n.curveTightness;r.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<i;e++){const n=t[e];s[0]=[n[0],n[1]],s[1]=[n[0]+(o*t[e+1][0]-o*t[e-1][0])/6,n[1]+(o*t[e+1][1]-o*t[e-1][1])/6],s[2]=[t[e+1][0]+(o*t[e][0]-o*t[e+2][0])/6,t[e+1][1]+(o*t[e][1]-o*t[e+2][1])/6],s[3]=[t[e+1][0],t[e+1][1]],r.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(e&&2===e.length){const t=n.maxRandomnessOffset;r.push({op:"lineTo",data:[e[0]+this.getOffset(-t,t,n),e[1]+ +this.getOffset(-t,t,n)]})}}else 3===i?(r.push({op:"move",data:[t[1][0],t[1][1]]}),r.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&(r=r.concat(this.doubleLine(t[0][0],t[0][1],t[1][0],t[1][1],n)));return r}_ellipse(t,e,n,i,r,s,o,a){const u=this.getOffset(-.5,.5,a)-Math.PI/2,l=[];l.push([this.getOffset(-s,s,a)+e+.9*i*Math.cos(u-t),this.getOffset(-s,s,a)+n+.9*r*Math.sin(u-t)]);for(let o=u;o<2*Math.PI+u-.01;o+=t)l.push([this.getOffset(-s,s,a)+e+i*Math.cos(o),this.getOffset(-s,s,a)+n+r*Math.sin(o)]);return l.push([this.getOffset(-s,s,a)+e+i*Math.cos(u+2*Math.PI+.5*o),this.getOffset(-s,s,a)+n+r*Math.sin(u+2*Math.PI+.5*o)]),l.push([this.getOffset(-s,s,a)+e+.98*i*Math.cos(u+o),this.getOffset(-s,s,a)+n+.98*r*Math.sin(u+o)]),l.push([this.getOffset(-s,s,a)+e+.9*i*Math.cos(u+.5*o),this.getOffset(-s,s,a)+n+.9*r*Math.sin(u+.5*o)]),this._curve(l,null,a)}_curveWithOffset(t,e,n){const i=[];i.push([t[0][0]+this.getOffset(-e,e,n),t[0][1]+this.getOffset(-e,e,n)]),i.push([t[0][0]+this.getOffset(-e,e,n),t[0][1]+this.getOffset(-e,e,n)]);for(let r=1;r<t.length;r++)i.push([t[r][0]+this.getOffset(-e,e,n),t[r][1]+this.getOffset(-e,e,n)]),r===t.length-1&&i.push([t[r][0]+this.getOffset(-e,e,n),t[r][1]+this.getOffset(-e,e,n)]);return this._curve(i,null,n)}_arc(t,e,n,i,r,s,o,a,u){const l=s+this.getOffset(-.1,.1,u),h=[];h.push([this.getOffset(-a,a,u)+e+.9*i*Math.cos(l-t),this.getOffset(-a,a,u)+n+.9*r*Math.sin(l-t)]);for(let s=l;s<=o;s+=t)h.push([this.getOffset(-a,a,u)+e+i*Math.cos(s),this.getOffset(-a,a,u)+n+r*Math.sin(s)]);return h.push([e+i*Math.cos(o),n+r*Math.sin(o)]),h.push([e+i*Math.cos(o),n+r*Math.sin(o)]),this._curve(h,null,u)}_bezierTo(t,e,n,i,r,s,o,a){const u=[],l=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.5];let h=[0,0];for(let c=0;c<2;c++)0===c?u.push({op:"move",data:[o.x,o.y]}):u.push({op:"move",data:[o.x+this.getOffset(-l[0],l[0],a),o.y+this.getOffset(-l[0],l[0],a)]}),h=[r+this.getOffset(-l[c],l[c],a),s+this.getOffset(-l[c],l[c],a)],u.push({op:"bcurveTo",data:[t+this.getOffset(-l[c],l[c],a),e+this.getOffset(-l[c],l[c],a),n+this.getOffset(-l[c],l[c],a),i+this.getOffset(-l[c],l[c],a),h[0],h[1]]});return o.setPosition(h[0],h[1]),u}_processSegment(t,e,n,i){let r=[];switch(e.key){case"M":case"m":{const n="m"===e.key;if(e.data.length>=2){let s=+e.data[0],o=+e.data[1];n&&(s+=t.x,o+=t.y);const a=1*(i.maxRandomnessOffset||0);s+=this.getOffset(-a,a,i),o+=this.getOffset(-a,a,i),t.setPosition(s,o),r.push({op:"move",data:[s,o]})}break}case"L":case"l":{const n="l"===e.key;if(e.data.length>=2){let s=+e.data[0],o=+e.data[1];n&&(s+=t.x,o+=t.y),r=r.concat(this.doubleLine(t.x,t.y,s,o,i)),t.setPosition(s,o)}break}case"H":case"h":{const n="h"===e.key;if(e.data.length){let s=+e.data[0];n&&(s+=t.x),r=r.concat(this.doubleLine(t.x,t.y,s,t.y,i)),t.setPosition(s,t.y)}break}case"V":case"v":{const n="v"===e.key;if(e.data.length){let s=+e.data[0];n&&(s+=t.y),r=r.concat(this.doubleLine(t.x,t.y,t.x,s,i)),t.setPosition(t.x,s)}break}case"Z":case"z":t.first&&(r=r.concat(this.doubleLine(t.x,t.y,t.first[0],t.first[1],i)),t.setPosition(t.first[0],t.first[1]),t.first=null);break;case"C":case"c":{const n="c"===e.key;if(e.data.length>=6){let s=+e.data[0],o=+e.data[1],a=+e.data[2],u=+e.data[3],l=+e.data[4],h=+e.data[5];n&&(s+=t.x,a+=t.x,l+=t.x,o+=t.y,u+=t.y,h+=t.y);const c=this._bezierTo(s,o,a,u,l,h,t,i);r=r.concat(c),t.bezierReflectionPoint=[l+(l-a),h+(h-u)]}break}case"S":case"s":{const s="s"===e.key;if(e.data.length>=4){let o=+e.data[0],a=+e.data[1],u=+e.data[2],l=+e.data[3];s&&(o+=t.x,u+=t.x,a+=t.y,l+=t.y);let h=o,c=a;const f=n?n.key:"";let p=null;"c"!==f&&"C"!==f&&"s"!==f&&"S"!==f||(p=t.bezierReflectionPoint),p&&(h=p[0],c=p[1]);const d=this._bezierTo(h,c,o,a,u,l,t,i);r=r.concat(d),t.bezierReflectionPoint=[u+(u-o),l+(l-a)]}break}case"Q":case"q":{const n="q"===e.key;if(e.data.length>=4){let s=+e.data[0],o=+e.data[1],a=+e.data[2],u=+e.data[3];n&&(s+=t.x,a+=t.x,o+=t.y,u+=t.y);const l=1*(1+.2*i.roughness),h=1.5*(1+.22*i.roughness);r.push({op:"move",data:[t.x+this.getOffset(-l,l,i),t.y+this.getOffset(-l,l,i)]});let c=[a+this.getOffset(-l,l,i),u+this.getOffset(-l,l,i)];r.push({op:"qcurveTo",data:[s+this.getOffset(-l,l,i),o+this.getOffset(-l,l,i),c[0],c[1]]}),r.push({op:"move",data:[t.x+this.getOffset(-h,h,i),t.y+this.getOffset(-h,h,i)]}),c=[a+this.getOffset(-h,h,i),u+this.getOffset(-h,h,i)],r.push({op:"qcurveTo",data:[s+this.getOffset(-h,h,i),o+this.getOffset(-h,h,i),c[0],c[1]]}),t.setPosition(c[0],c[1]),t.quadReflectionPoint=[a+(a-s),u+(u-o)]}break}case"T":case"t":{const s="t"===e.key;if(e.data.length>=2){let o=+e.data[0],a=+e.data[1];s&&(o+=t.x,a+=t.y);let u=o,l=a;const h=n?n.key:"";let c=null;"q"!==h&&"Q"!==h&&"t"!==h&&"T"!==h||(c=t.quadReflectionPoint),c&&(u=c[0],l=c[1]);const f=1*(1+.2*i.roughness),p=1.5*(1+.22*i.roughness);r.push({op:"move",data:[t.x+this.getOffset(-f,f,i),t.y+this.getOffset(-f,f,i)]});let d=[o+this.getOffset(-f,f,i),a+this.getOffset(-f,f,i)];r.push({op:"qcurveTo",data:[u+this.getOffset(-f,f,i),l+this.getOffset(-f,f,i),d[0],d[1]]}),r.push({op:"move",data:[t.x+this.getOffset(-p,p,i),t.y+this.getOffset(-p,p,i)]}),d=[o+this.getOffset(-p,p,i),a+this.getOffset(-p,p,i)],r.push({op:"qcurveTo",data:[u+this.getOffset(-p,p,i),l+this.getOffset(-p,p,i),d[0],d[1]]}),t.setPosition(d[0],d[1]),t.quadReflectionPoint=[o+(o-u),a+(a-l)]}break}case"A":case"a":{const n="a"===e.key;if(e.data.length>=7){const s=+e.data[0],o=+e.data[1],u=+e.data[2],l=+e.data[3],h=+e.data[4];let c=+e.data[5],f=+e.data[6];if(n&&(c+=t.x,f+=t.y),c===t.x&&f===t.y)break;if(0===s||0===o)r=r.concat(this.doubleLine(t.x,t.y,c,f,i)),t.setPosition(c,f);else for(let e=0;e<1;e++){const e=new a([t.x,t.y],[c,f],[s,o],u,!!l,!!h);let n=e.getNextSegment();for(;n;){const s=this._bezierTo(n.cp1[0],n.cp1[1],n.cp2[0],n.cp2[1],n.to[0],n.to[1],t,i);r=r.concat(s),n=e.getNextSegment()}}}break}}return r}}const M="undefined"!=typeof self,O=M&&self&&self.document&&self.document.currentScript&&self.document.currentScript.src;const P="undefined"!=typeof self;class k{constructor(t,e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1},this.config=t||{},this.surface=e,this.renderer=function(t){if(M&&O&&self&&self.workly&&t.async&&!t.noWorker){const e=t.worklyURL||"https://cdn.jsdelivr.net/gh/pshihn/workly/dist/workly.min.js";if(e){const t=`importScripts('${e}', '${O}');\nworkly.expose(self.rough.createRenderer());`,n=URL.createObjectURL(new Blob([t]));return self.workly.proxy(n)}}return new m}(this.config),this.config.options&&(this.defaultOptions=this._options(this.config.options))}_options(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_drawable(t,e,n){return{shape:t,sets:e||[],options:n||this.defaultOptions}}get lib(){return this.renderer}getCanvasSize(){const t=t=>t&&"object"==typeof t&&t.baseVal&&t.baseVal.value?t.baseVal.value:t||100;return this.surface?[t(this.surface.width),t(this.surface.height)]:[100,100]}computePolygonSize(t){if(t.length){let e=t[0][0],n=t[0][0],i=t[0][1],r=t[0][1];for(let s=1;s<t.length;s++)e=Math.min(e,t[s][0]),n=Math.max(n,t[s][0]),i=Math.min(i,t[s][1]),r=Math.max(r,t[s][1]);return[n-e,r-i]}return[0,0]}polygonPath(t){let e="";if(t.length){e=`M${t[0][0]},${t[0][1]}`;for(let n=1;n<t.length;n++)e=`${e} L${t[n][0]},${t[n][1]}`}return e}computePathSize(t){let e=[0,0];if(P&&self.document)try{const n="http://www.w3.org/2000/svg",i=self.document.createElementNS(n,"svg");i.setAttribute("width","0"),i.setAttribute("height","0");const r=self.document.createElementNS(n,"path");r.setAttribute("d",t),i.appendChild(r),self.document.body.appendChild(i);const s=r.getBBox();s&&(e[0]=s.width||0,e[1]=s.height||0),self.document.body.removeChild(i)}catch(t){}const n=this.getCanvasSize();return e[0]*e[1]||(e=n),e}toPaths(t){const e=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const t of e){let e=null;switch(t.type){case"path":e={d:this.opsToPath(t),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:"none"};break;case"fillPath":e={d:this.opsToPath(t),stroke:"none",strokeWidth:0,fill:n.fill||"none"};break;case"fillSketch":e=this.fillSketch(t,n);break;case"path2Dfill":e={d:t.path||"",stroke:"none",strokeWidth:0,fill:n.fill||"none"};break;case"path2Dpattern":{const i=t.size,r={x:0,y:0,width:1,height:1,viewBox:`0 0 ${Math.round(i[0])} ${Math.round(i[1])}`,patternUnits:"objectBoundingBox",path:this.fillSketch(t,n)};e={d:t.path,stroke:"none",strokeWidth:0,pattern:r};break}}e&&i.push(e)}return i}fillSketch(t,e){let n=e.fillWeight;return n<0&&(n=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||"none",strokeWidth:n,fill:"none"}}opsToPath(t){let e="";for(const n of t.ops){const t=n.data;switch(n.op){case"move":e+=`M${t[0]} ${t[1]} `;break;case"bcurveTo":e+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case"qcurveTo":e+=`Q${t[0]} ${t[1]}, ${t[2]} ${t[3]} `;break;case"lineTo":e+=`L${t[0]} ${t[1]} `}}return e.trim()}}class S extends k{constructor(t,e){super(t,e)}line(t,e,n,i,r){const s=this._options(r);return this._drawable("line",[this.lib.line(t,e,n,i,s)],s)}rectangle(t,e,n,i,r){const s=this._options(r),o=[];if(s.fill){const r=[[t,e],[t+n,e],[t+n,e+i],[t,e+i]];"solid"===s.fillStyle?o.push(this.lib.solidFillPolygon(r,s)):o.push(this.lib.patternFillPolygon(r,s))}return o.push(this.lib.rectangle(t,e,n,i,s)),this._drawable("rectangle",o,s)}ellipse(t,e,n,i,r){const s=this._options(r),o=[];if(s.fill)if("solid"===s.fillStyle){const r=this.lib.ellipse(t,e,n,i,s);r.type="fillPath",o.push(r)}else o.push(this.lib.patternFillEllipse(t,e,n,i,s));return o.push(this.lib.ellipse(t,e,n,i,s)),this._drawable("ellipse",o,s)}circle(t,e,n,i){const r=this.ellipse(t,e,n,n,i);return r.shape="circle",r}linearPath(t,e){const n=this._options(e);return this._drawable("linearPath",[this.lib.linearPath(t,!1,n)],n)}arc(t,e,n,i,r,s,o=!1,a){const u=this._options(a),l=[];if(o&&u.fill)if("solid"===u.fillStyle){const o=this.lib.arc(t,e,n,i,r,s,!0,!1,u);o.type="fillPath",l.push(o)}else l.push(this.lib.patternFillArc(t,e,n,i,r,s,u));return l.push(this.lib.arc(t,e,n,i,r,s,o,!0,u)),this._drawable("arc",l,u)}curve(t,e){const n=this._options(e);return this._drawable("curve",[this.lib.curve(t,n)],n)}polygon(t,e){const n=this._options(e),i=[];if(n.fill)if("solid"===n.fillStyle)i.push(this.lib.solidFillPolygon(t,n));else{const e=this.computePolygonSize(t),r=[[0,0],[e[0],0],[e[0],e[1]],[0,e[1]]],s=this.lib.patternFillPolygon(r,n);s.type="path2Dpattern",s.size=e,s.path=this.polygonPath(t),i.push(s)}return i.push(this.lib.linearPath(t,!0,n)),this._drawable("polygon",i,n)}path(t,e){const n=this._options(e),i=[];if(!t)return this._drawable("path",i,n);if(n.fill)if("solid"===n.fillStyle){const e={type:"path2Dfill",path:t,ops:[]};i.push(e)}else{const e=this.computePathSize(t),r=[[0,0],[e[0],0],[e[0],e[1]],[0,e[1]]],s=this.lib.patternFillPolygon(r,n);s.type="path2Dpattern",s.size=e,s.path=t,i.push(s)}return i.push(this.lib.svgPath(t,n)),this._drawable("path",i,n)}}const A="undefined"!=typeof document;class E{constructor(t){this.canvas=t,this.ctx=this.canvas.getContext("2d")}static createRenderer(){return new m}draw(t){const e=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx;for(const t of e)switch(t.type){case"path":i.save(),i.strokeStyle=n.stroke,i.lineWidth=n.strokeWidth,this._drawToContext(i,t),i.restore();break;case"fillPath":i.save(),i.fillStyle=n.fill||"",this._drawToContext(i,t),i.restore();break;case"fillSketch":this.fillSketch(i,t,n);break;case"path2Dfill":{this.ctx.save(),this.ctx.fillStyle=n.fill||"";const e=new Path2D(t.path);this.ctx.fill(e),this.ctx.restore();break}case"path2Dpattern":{const e=this.canvas.ownerDocument||A&&document;if(e){const i=t.size,r=e.createElement("canvas"),s=r.getContext("2d"),o=this.computeBBox(t.path);o&&(o.width||o.height)?(r.width=this.canvas.width,r.height=this.canvas.height,s.translate(o.x||0,o.y||0)):(r.width=i[0],r.height=i[1]),this.fillSketch(s,t,n),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(r,"repeat");const a=new Path2D(t.path);this.ctx.fill(a),this.ctx.restore()}else console.error("Cannot render path2Dpattern. No defs/document defined.");break}}}computeBBox(t){if(A)try{const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.setAttribute("width","0"),n.setAttribute("height","0");const i=self.document.createElementNS(e,"path");i.setAttribute("d",t),n.appendChild(i),document.body.appendChild(n);const r=i.getBBox();return document.body.removeChild(n),r}catch(t){}return null}fillSketch(t,e,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,e),t.restore()}_drawToContext(t,e){t.beginPath();for(const n of e.ops){const e=n.data;switch(n.op){case"move":t.moveTo(e[0],e[1]);break;case"bcurveTo":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case"qcurveTo":t.quadraticCurveTo(e[0],e[1],e[2],e[3]);break;case"lineTo":t.lineTo(e[0],e[1])}}"fillPath"===e.type?t.fill():t.stroke()}}class T extends E{constructor(t,e){super(t),this.gen=new S(e||null,this.canvas)}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,n,i,r){const s=this.gen.line(t,e,n,i,r);return this.draw(s),s}rectangle(t,e,n,i,r){const s=this.gen.rectangle(t,e,n,i,r);return this.draw(s),s}ellipse(t,e,n,i,r){const s=this.gen.ellipse(t,e,n,i,r);return this.draw(s),s}circle(t,e,n,i){const r=this.gen.circle(t,e,n,i);return this.draw(r),r}linearPath(t,e){const n=this.gen.linearPath(t,e);return this.draw(n),n}polygon(t,e){const n=this.gen.polygon(t,e);return this.draw(n),n}arc(t,e,n,i,r,s,o=!1,a){const u=this.gen.arc(t,e,n,i,r,s,o,a);return this.draw(u),u}curve(t,e){const n=this.gen.curve(t,e);return this.draw(n),n}path(t,e){const n=this.gen.path(t,e);return this.draw(n),n}}class j extends k{async line(t,e,n,i,r){const s=this._options(r);return this._drawable("line",[await this.lib.line(t,e,n,i,s)],s)}async rectangle(t,e,n,i,r){const s=this._options(r),o=[];if(s.fill){const r=[[t,e],[t+n,e],[t+n,e+i],[t,e+i]];"solid"===s.fillStyle?o.push(await this.lib.solidFillPolygon(r,s)):o.push(await this.lib.patternFillPolygon(r,s))}return o.push(await this.lib.rectangle(t,e,n,i,s)),this._drawable("rectangle",o,s)}async ellipse(t,e,n,i,r){const s=this._options(r),o=[];if(s.fill)if("solid"===s.fillStyle){const r=await this.lib.ellipse(t,e,n,i,s);r.type="fillPath",o.push(r)}else o.push(await this.lib.patternFillEllipse(t,e,n,i,s));return o.push(await this.lib.ellipse(t,e,n,i,s)),this._drawable("ellipse",o,s)}async circle(t,e,n,i){const r=await this.ellipse(t,e,n,n,i);return r.shape="circle",r}async linearPath(t,e){const n=this._options(e);return this._drawable("linearPath",[await this.lib.linearPath(t,!1,n)],n)}async arc(t,e,n,i,r,s,o=!1,a){const u=this._options(a),l=[];if(o&&u.fill)if("solid"===u.fillStyle){const o=await this.lib.arc(t,e,n,i,r,s,!0,!1,u);o.type="fillPath",l.push(o)}else l.push(await this.lib.patternFillArc(t,e,n,i,r,s,u));return l.push(await this.lib.arc(t,e,n,i,r,s,o,!0,u)),this._drawable("arc",l,u)}async curve(t,e){const n=this._options(e);return this._drawable("curve",[await this.lib.curve(t,n)],n)}async polygon(t,e){const n=this._options(e),i=[];if(n.fill)if("solid"===n.fillStyle)i.push(await this.lib.solidFillPolygon(t,n));else{const e=this.computePolygonSize(t),r=[[0,0],[e[0],0],[e[0],e[1]],[0,e[1]]],s=await this.lib.patternFillPolygon(r,n);s.type="path2Dpattern",s.size=e,s.path=this.polygonPath(t),i.push(s)}return i.push(await this.lib.linearPath(t,!0,n)),this._drawable("polygon",i,n)}async path(t,e){const n=this._options(e),i=[];if(!t)return this._drawable("path",i,n);if(n.fill)if("solid"===n.fillStyle){const e={type:"path2Dfill",path:t,ops:[]};i.push(e)}else{const e=this.computePathSize(t),r=[[0,0],[e[0],0],[e[0],e[1]],[0,e[1]]],s=await this.lib.patternFillPolygon(r,n);s.type="path2Dpattern",s.size=e,s.path=t,i.push(s)}return i.push(await this.lib.svgPath(t,n)),this._drawable("path",i,n)}}class C extends E{constructor(t,e){super(t),this.genAsync=new j(e||null,this.canvas)}get generator(){return this.genAsync}getDefaultOptions(){return this.genAsync.defaultOptions}async line(t,e,n,i,r){const s=await this.genAsync.line(t,e,n,i,r);return this.draw(s),s}async rectangle(t,e,n,i,r){const s=await this.genAsync.rectangle(t,e,n,i,r);return this.draw(s),s}async ellipse(t,e,n,i,r){const s=await this.genAsync.ellipse(t,e,n,i,r);return this.draw(s),s}async circle(t,e,n,i){const r=await this.genAsync.circle(t,e,n,i);return this.draw(r),r}async linearPath(t,e){const n=await this.genAsync.linearPath(t,e);return this.draw(n),n}async polygon(t,e){const n=await this.genAsync.polygon(t,e);return this.draw(n),n}async arc(t,e,n,i,r,s,o=!1,a){const u=await this.genAsync.arc(t,e,n,i,r,s,o,a);return this.draw(u),u}async curve(t,e){const n=await this.genAsync.curve(t,e);return this.draw(n),n}async path(t,e){const n=await this.genAsync.path(t,e);return this.draw(n),n}}const z="undefined"!=typeof document;class R{constructor(t){this.svg=t}static createRenderer(){return new m}get defs(){const t=this.svg.ownerDocument||z&&document;if(t&&!this._defs){const e=t.createElementNS("http://www.w3.org/2000/svg","defs");this.svg.firstChild?this.svg.insertBefore(e,this.svg.firstChild):this.svg.appendChild(e),this._defs=e}return this._defs||null}draw(t){const e=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||z&&document,r=i.createElementNS("http://www.w3.org/2000/svg","g");for(const t of e){let e=null;switch(t.type){case"path":(e=i.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this.opsToPath(t)),e.style.stroke=n.stroke,e.style.strokeWidth=n.strokeWidth+"",e.style.fill="none";break;case"fillPath":(e=i.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this.opsToPath(t)),e.style.stroke="none",e.style.strokeWidth="0",e.style.fill=n.fill||null;break;case"fillSketch":e=this.fillSketch(i,t,n);break;case"path2Dfill":(e=i.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",t.path||""),e.style.stroke="none",e.style.strokeWidth="0",e.style.fill=n.fill||null;break;case"path2Dpattern":if(this.defs){const r=t.size,s=i.createElementNS("http://www.w3.org/2000/svg","pattern"),o=`rough-${Math.floor(Math.random()*(Number.MAX_SAFE_INTEGER||999999))}`;s.setAttribute("id",o),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("height","1"),s.setAttribute("viewBox",`0 0 ${Math.round(r[0])} ${Math.round(r[1])}`),s.setAttribute("patternUnits","objectBoundingBox");const a=this.fillSketch(i,t,n);s.appendChild(a),this.defs.appendChild(s),(e=i.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",t.path||""),e.style.stroke="none",e.style.strokeWidth="0",e.style.fill=`url(#${o})`}else console.error("Cannot render path2Dpattern. No defs/document defined.")}e&&r.appendChild(e)}return r}fillSketch(t,e,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const r=t.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",this.opsToPath(e)),r.style.stroke=n.fill||null,r.style.strokeWidth=i+"",r.style.fill="none",r}}class L extends R{constructor(t,e){super(t),this.gen=new S(e||null,this.svg)}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t){return this.gen.opsToPath(t)}line(t,e,n,i,r){const s=this.gen.line(t,e,n,i,r);return this.draw(s)}rectangle(t,e,n,i,r){const s=this.gen.rectangle(t,e,n,i,r);return this.draw(s)}ellipse(t,e,n,i,r){const s=this.gen.ellipse(t,e,n,i,r);return this.draw(s)}circle(t,e,n,i){const r=this.gen.circle(t,e,n,i);return this.draw(r)}linearPath(t,e){const n=this.gen.linearPath(t,e);return this.draw(n)}polygon(t,e){const n=this.gen.polygon(t,e);return this.draw(n)}arc(t,e,n,i,r,s,o=!1,a){const u=this.gen.arc(t,e,n,i,r,s,o,a);return this.draw(u)}curve(t,e){const n=this.gen.curve(t,e);return this.draw(n)}path(t,e){const n=this.gen.path(t,e);return this.draw(n)}}class W extends R{constructor(t,e){super(t),this.genAsync=new j(e||null,this.svg)}get generator(){return this.genAsync}getDefaultOptions(){return this.genAsync.defaultOptions}opsToPath(t){return this.genAsync.opsToPath(t)}async line(t,e,n,i,r){const s=await this.genAsync.line(t,e,n,i,r);return this.draw(s)}async rectangle(t,e,n,i,r){const s=await this.genAsync.rectangle(t,e,n,i,r);return this.draw(s)}async ellipse(t,e,n,i,r){const s=await this.genAsync.ellipse(t,e,n,i,r);return this.draw(s)}async circle(t,e,n,i){const r=await this.genAsync.circle(t,e,n,i);return this.draw(r)}async linearPath(t,e){const n=await this.genAsync.linearPath(t,e);return this.draw(n)}async polygon(t,e){const n=await this.genAsync.polygon(t,e);return this.draw(n)}async arc(t,e,n,i,r,s,o=!1,a){const u=await this.genAsync.arc(t,e,n,i,r,s,o,a);return this.draw(u)}async curve(t,e){const n=await this.genAsync.curve(t,e);return this.draw(n)}async path(t,e){const n=await this.genAsync.path(t,e);return this.draw(n)}}e.default={canvas:(t,e)=>e&&e.async?new C(t,e):new T(t,e),svg:(t,e)=>e&&e.async?new W(t,e):new L(t,e),createRenderer:()=>T.createRenderer(),generator:(t,e)=>t&&t.async?new j(t,e):new S(t,e)}}])});